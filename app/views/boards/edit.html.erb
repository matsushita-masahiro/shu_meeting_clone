<%= form_for @board do |f| %>
<div class="container">
 <div class="row">
  <div class="col-3">
     <div class="file-field">
    　 <%= f.label :images, "投稿画像：" %>
       <%= image_tag "/assets/preview_img.png", class:"img-fluid", id: "preview"%>
       <%= f.file_field :images, id: "myImage", multiple: true, accept: "image/*", required: true %>
 　　</div>
 　 </div>

<div class="col-8">
　<div class="card">
    <div class="card-header">
 　  <%= f.label :title, "投稿タイトル：" %>
     <%= f.text_field :title, autofocus: true, autocomplete: "book_name", class: "form-control", placeholder: "例) 月200円の低レンタル価格！OO大学OO学部の必須教科書！", required: true %>
    </div>
    <div class="card-body">
    <div class="row">
        <div class="col-md-4">
          <%= f.label :book_name, "教科書名：" %>
          <%= f.text_field :book_name, autofocus: true, autocomplete: "book_name", class: "form-control", placeholder: "例) 経済原論ー基礎と演習", required: true %>
        </div>
        <div class="col-md-4">
          <%= f.label :author, "著者名：" %>
          <%= f.text_field :author, autocomplete: "book_name", class: "form-control", placeholder: "例) 小幡 道昭" %>
        </div> 
        <div class="col-md-4">
          <%= f.label :isbn_num, "ISBN：" %>
          <%= f.text_field :isbn_num, autocomplete: "isbn_num", class: "form-control", placeholder: "例) 9784130421331" %>
        </div>
     </div>
     <div class="row">
        <div class="form-group col-md-4">
          <%= f.label :category, "カテゴリー：" %>
          <%= f.select :category, ['経済/経営', '文学/言語', '芸術', '哲学/思想/宗教', '政治/法律', '教育/心理', '数学/物理学', '生物学/化学', '天文/地学', '建築/土木', '電気/電子', '情報/通信', '医学/歯学/薬学', 'その他'], {include_blank: ' '}, class: 'form-control' %>
        </div>
        <div class="form-group col-md-4">
          <%= f.label :condition, "本の状態：" %>
          <%= f.select :condition, ['新品、未使用', 'ほぼ新品', '非常に良い', '可', '少しキズや汚れあり', 'かなり古い'],  {include_blank: ' '}, class: "form-control" %>
        </div>
        <div class="col-md-4">
          <%= f.label :decide_price, "貸し出し金額：" %>
          <div class="input-group">
            <div class="input-group-prepend">
              <div class="input-group-text">￥</div>
            </div>
            <%= f.text_field :decide_price, autocomplete: "decide_price", type: "text", class: "form-control", id: "inlineFormInputGroupUsername2", placeholder: "例)200", required: true %>
          </div>
          <p style="color:red; font-size:14px">※月々の料金です。</p>
        </div>
     </div>
     <div class="remarks">
        <%= f.label :remarks, "備考：" %>
        <%= f.text_area :remarks, placeholder: 
       "例）ページは良好な状態です。カバーなどの外観は、多少の使用感や擦れ、細かなキズがあります。
           ・テストに出そうな重要点はマーカーで線が引いてあります！
           ・貸し出し期限が過ぎてからの返却はペナルティー料金として
           　1000円かかりますのでご注意ください！　　など", class: "form-control" %>
     </div>
     <%= f.label :available_period, "貸し出し期限：" %>
     <%= f.date_field :available_period, autocomplete: "available_period", class: "form-control", placeholder: "例)2019/11/1", required: true %>
          
  <hr>
  <div class="submit row justify-content-center">
    <%= f.submit "掲示板に投稿する", :class => "btn btn-info btn-lg board-button" %>
  </div>
   <div class="sns row justify-content-center">
      <a href="https://twitter.com/twitter" target="_blank">
       <i class="fab fa-twitter-square fa-2x"> </i>
      </a>
      <a href="https://www.facebook.com/" target="_blank">
       <i class="fab fa-facebook-square fa-2x"> </i>
      </a>
      <a href="https://line.me/ja/" target="_blank">
       <i class="fab fa-line fa-2x"></i>
      </a>
      <a href="https://mail.google.com/mail/u/0/" target="_blank">
       <i class="fas fa-envelope-square fa-2x"></i>
      </a>
     </div>
   </div>
  </div>
 </div>
</div>
</div>
<% end %>

 
<script>
$('#myImage').on('change', function (e) {
    var reader = new FileReader();
    reader.onload = function (e) {
        $("#preview").attr('src', e.target.result);
    }
    reader.readAsDataURL(e.target.files[0]);
});

$('#myImage2').on('change', function (e) {
    var reader = new FileReader();
    reader.onload = function (e) {
        $("#preview2").attr('src', e.target.result);
    }
    reader.readAsDataURL(e.target.files[0]);
});
</script>